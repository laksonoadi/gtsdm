<!-- patTemplate:tmpl name="content" -->

<h1>Manajemen Query</h1>
<br/>

<!-- patTemplate:tmpl name="warning_box" visibility="hidden" -->
<div class="{CLASS_PESAN}">
   {ISI_PESAN}
</div>
<!-- /patTemplate:tmpl -->

<form class="xhr_form std_form" name="frmUser" id="frmInput" method="post" action="{URL_ACTION}">
 <table class="table-edit" width="100%">
      <tr class="subhead">
         <th colspan="2">{JUDUL} Query</th>
      </tr>
   <tr>
     <th>Nama *</th>
     <td><input name="nama" size="50" value="{QUERY_NAMA}"></td>
   </tr>
   <tr>
     <th>Deskripsi</th>
     <td><textarea name="desk" rows="1" cols="50">{QUERY_DESC}</textarea></td>
   </tr>
   <tr>
     <th>Query *</th>
   	 <script language="Javascript" type="text/javascript">
   		// initialisation
		
   		editAreaLoader.init({
   			id: "query"	// id of the textarea to transform		
   			,start_highlight: true	// if start with highlight
   			,allow_resize: "both"
            ,replace_tab_by_spaces:3
   			,allow_toggle: false
   			,language: "en"
   			,syntax: "sql"	
   		});	
   	 </script>
     <td>
          <textarea id="query" name="query" cols="40" rows="15">{QUERY_SQL}</textarea>
      </td>
   </tr>
   <tr>
     <th>Parameter Default</th>
     <td><input name="param" type="text" value="{QUERY_PARAM}" size="70"/></td>
   </tr>
	<tr class="buttons">
     <td>&nbsp;</td>
     <td>
       <input name="que_id" type="hidden" value="{QUERY_ID}">
       <input name="temp" id="temp" type="hidden">
       <input name="coba" id="mySubmit" type="button" value="Jalankan Query" onclick="pindah();formObj.submit()" 
         class="buttonSubmit" />
       <input name="simpan" onMouseDown="pindah();" type="submit" value="Simpan" class="buttonSubmit" />
		 <input name="batal" type="submit" value="Batal" class="buttonSubmit" />
     </td>
   </tr>
 </table>
</form>
<div id="formResponse"></div>
<script type='text/javascript'>

function pindah() {
	var temp = editAreaLoader.getValue("query");
   document.getElementById("temp").value = temp;
   document.forms['frmUser'].query.value = temp;
}

var formObj = new DHTMLSuite.form({ formRef:'frmUser',action:'{ACTION}',responseEl:'formResponse'});

</script>

</div>
<!-- /patTemplate:tmpl -->
