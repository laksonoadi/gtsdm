<!-- patTemplate:tmpl name="content" -->
<!--<h1>{LABEL_TITLE}</h1>-->

<div class="background-blue padding-10 text-big">{TITLE}</div>
<div class="padding-10">

<!-- patTemplate:tmpl name="warning_box" visibility="hidden" -->
<div class="row">
    <div class="col-md-12">
        <div class="{CLASS_PESAN}">
            {ISI_PESAN}
        </div>
    </div>
</div>
<!-- /patTemplate:tmpl -->

<div class="row push-down-10">
    <div class="col-md-12 text-right">
        <div class="btn-group">
	            <!--<a href="{URL_EXCEL}" title="Export Excel" ><img src="images/button-tindaklanjuti.gif" alt=""> Excel</a>-->
                <a class="xhr dest_subcontent-element btn btn-xs btn-info" href="{URL_ADD}" title="Tambah" tabindex="2">
                    <span class="glyphicon glyphicon-plus"></span> Tambah
                </a>
                <a class="xhr dest_subcontent-element btn btn-xs btn-default" href="{URL_CARI}" title="Cari" tabindex="2">
                    <span class="glyphicon glyphicon-search"></span> Cari
                </a>
        </div>
    </div>
</div>

<!-- patTemplate:tmpl name="satker_detail" visibility="hidden" -->
<table class="table-details">
	<tr>
		<th width="150">Satuan Kerja</th>
		<td><b>{UNIT}</b></td>
	</tr>
	<tr>
		<th width="150">Nama Unit</th>
		<td><b>{NAMA}<b></td>
	</tr>
	<tr>
		<td></td>
		<td class="buttonSubmit">
				<a class="xhr dest_subcontent-element"  title="Ubah  {NAMA}"  href="{URL_UBAH}" tabindex="3">Ubah</a>
				<a class="xhr dest_subcontent-element" onClick="javascript: return showBoxConfirmDelete('{ID}', '{NAMA}', '{URL_DELETE_JS}');" href="{URL_DELETE}" title="Hapus">Hapus</a>
		</td>

	</tr>
</table>
<br />
<!-- /patTemplate:tmpl -->

<h2>Bagan Satuan Kerja</h2>
   <!-- patTemplate:tmpl name="satker" type="condition" conditionvar="IS_EMPTY" -->
      <!-- patTemplate:sub condition="YES" -->
      Data tidak ditemukan
      <!-- /patTemplate:sub -->
      <!-- patTemplate:sub condition="NO" -->
         <!-- patTemplate:tmpl name="satker_tree" -->
            <form class="xhr_simple_form dest_subcontent-element" action="{URL_PINDAH}" method="POST" name="frm_input" id="frm_input">
                <div style="margin-bottom: 10px;">
                    <button type="submit" class="btn btn-default btn-sm" title="Pindah yang dicentang"><span class="glyphicon glyphicon-random"></span>&nbsp;&nbsp;&nbsp;Pindah yang dicentang</button>
                </div>
                <div id="satker_tree" class="jstree-ui" style="display:none;">{SATKER_TREE_STR}</div>
            </form>
         <!-- /patTemplate:tmpl -->
		 
      <!-- /patTemplate:sub -->
   <!-- /patTemplate:tmpl -->
</table>
<div class="pageBar">
</div>

</div>

<!-- patTemplate:tmpl name="satker_jstree" type="condition" conditionvar="IS_EMPTY" varscope="satker" -->
<!-- patTemplate:sub condition="NO" -->
<script>
    setTimeout(function(){
        $("#satker_tree").hide().bind("loaded.jstree", function(e, data){
            $(this).show();
        }).jstree({
            "plugins" : [ "themes", "html_data", "ui", "types" ],
            "core" : {
                "animation" : 0,
            },
            "themes" : {
                "theme" : "classic",
                "icons" : false,
                "dots" : true,
            },
            "ui" : {
                "select_limit" : 1,
                "selected_parent_close" : "select_parent",
                "selected_parent_open" : true,
                <!-- patTemplate:tmpl name="satker_jstree_opento" type="simplecondition" requiredvars="ID" varscope="satker_detail" -->
                "initially_select": ["satker_item_{ID}"],
                <!-- /patTemplate:tmpl -->
            },
            /*"checkbox" : {
                "checked_parent_open" : true,
                "two_state" : false,
                "real_checkboxes" : true,
                "real_checkboxes_names" : function(n){
                    var id = n.data("id");
                    return ["satker_check_"+ (id || Math.ceil(Math.random()) * 100000), id];
                },
            },*/
            "types" : {
                "type_attr" : "rel",
                "types" : {
                    "item-disabled" : {
                        "select_node" : false,
                        "open_node" : true,
                        "close_node" : true,
                        "create_node" : false,
                        "delete_node" : false,
                        "hover_node" : false,
                    },
                },
            },
        });
    }, 10);
    $("#satker_tree").delegate(".item-buttons a.xhr", "click", function(e){
        e.preventDefault();
        var url = $(this).attr("href");
        if(url) {
            GtfwAjax.replaceContentWithUrl("subcontent-element", url+"&ascomponent=1");
        }
    }).delegate(".check-all", "change", function(e){
        var checkboxes = $(this).closest("li").siblings().find("> input[type=\"checkbox\"]");
        checkboxes.prop("checked", this.checked);
    });
</script>
<!-- /patTemplate:sub -->
<!-- /patTemplate:tmpl -->

<!-- /patTemplate:tmpl -->
