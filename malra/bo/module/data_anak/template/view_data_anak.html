<!-- patTemplate:tmpl name="content" -->
<div class="background-blue padding-10 text-big">{TITLE}</div>
<div class="padding-10">

<div class="row">
   <ul class="nav nav-tabs">
    <li><a href="{URL_PGW}" class="xhr dest_subcontent-element">Data Pegawai</a></li>
    <li><a href="{URL_PSNG}" class="xhr dest_subcontent-element ">Data Pasangan</a></li>
    <li class="active"><a href="{URL_ANAK}" class="xhr dest_subcontent-element ">Data Anak</a></li>
    <li><a href="{URL_ORTU}" class="xhr dest_subcontent-element ">Data Orang Tua</a></li>
    <li><a href="{URL_MERTUA}" class="xhr dest_subcontent-element ">Data Mertua</a></li>
    <li><a href="{URL_SDR}" class="xhr dest_subcontent-element ">Data Saudara Kandung</a></li>
  </ul>
</div>

<!-- patTemplate:gtfwrendermodule module="profile" submodule="profilebox" action="view" name="profile"  / -->
<div class="table-responsive">
    <table class="table" >
	    <tr class="background-blue-light">
		    <th colspan="3" class="text-center">
                <div class="btn-group">
	                    <a class="btn btn-default btn-xs" href="javascript:Tab('LISTDATA','FORMDATA');">
	                        <span class="glyphicon glyphicon-list"></span> Lihat List Data
	                    </a>
		                <a class="btn btn-default btn-xs" href="javascript:Tab('FORMDATA','LISTDATA');">
	                        <span class="glyphicon glyphicon-plus"></span> Tambah
                        </a> 
                        <a class="xhr dest_subcontent-element btn btn-default btn-xs" href="{URL_BACK}" title="Pilih Pegawai" tabindex="2">
                            <span class="glyphicon glyphicon-share"></span> Pilih Pegawai
                        </a> 
                </div>
		    </th>
	    </tr>
    </table>
</div>

<!-- patTemplate:tmpl name="warning_box" visibility="hidden" -->
<script language="javascript" type="text/javascript">
function Tutup(){
	document.getElementById('warning_box').style.display='none';
}
</script>
<div class="{CLASS_PESAN}" id="warning_box">
   {ISI_PESAN} <a href="javascript:Tutup();">&nbsp;[Tutup Pesan]</a>
</div>
<!-- /patTemplate:tmpl --> 

<div id="FORMDATA" style="display:none">

<div class="table-responsive">
    <form method="POST" name="frmInput" action="{URL_AKSI}" class="xhr_form std_form" id="frmInput" enctype="multipart/form-data">
        <input type="hidden" name="idPeg" value="{ID}">
        <input type="hidden" name="idAnak" value="{INPUT_ID}">
        <input type="hidden" name="op" value="{OP}" id="op">
        <input type="hidden" name="studi" value="0">
        <table class="table" width="100%" >
            <tr class="background-blue-light text-big">
                <th colspan="2" valign="center">{LABEL_ACTION} Data Anak</th>
            </tr>
            <tr>
                <th width="25%">Nama *</th>
                <td>
                    <div class="row">
                        <div class="col-sm-9 col-md-6">
                            <input type="text" class="form-control" name="nama" size="20" value="{INPUT_NAMA}"/>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <th>Gelar Depan</th>
                <td>
                    <div class="row">
                        <div class="col-sm-9 col-md-6">
                            <input type="text" class="form-control" name="gelar_depan" size="20" value="{INPUT_GELAR_DEPAN}"/>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <th>Gelar Belakang</th>
                <td>
                    <div class="row">
                        <div class="col-sm-9 col-md-6">
                            <input type="text" class="form-control" name="gelar_belakang" size="20" value="{INPUT_GELAR_BELAKANG}"/>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <th>Anak Ke </th>
                <td>
                  <!-- patTemplate:gtfwrendermodule module="combobox" submodule="combobox" action="view" name="nomor"  / -->
                </td>
            </tr>
            <tr>
                <th>Jenis Kelamin</th>
                <td>
                  <!-- patTemplate:gtfwrendermodule module="combobox" submodule="combobox" action="view" name="jenkel"  / -->
                </td>
            </tr>
            <tr>
                <th>Tempat Lahir</th>
                <td>
                    <div class="row">
                        <div class="col-sm-9 col-md-6">
                            <input type="text" class="form-control" name="tmpt_lahir" size="20" value="{INPUT_TMPT}"/>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <th>Tanggal Lahir</th>
                <td>
                  <!-- patTemplate:gtfwrendermodule module="tanggal" submodule="tanggal" action="view" name="tgl_lahir"  / -->  
                </td>
            </tr>
            <tr>
                <th>Nomor Akta Kelahiran</th>
                <td>
                    <div class="row">
                        <div class="col-sm-6 col-md-5">
                            <input class="form-control" type="text" name="no_akta" value="{INPUT_NO_AKTA}" />
                        </div>
                        <div class="col-sm-6 col-md-7">
                            <div>
                                <strong>Bukti Akta Kelahiran :</strong>
                                <!-- patTemplate:tmpl name="akta" type="condition" conditionvar="INPUT_AKTA" varscope="content" -->
                                <!-- patTemplate:sub condition="__empty" -->
                                <!-- /patTemplate:sub -->
                                <!-- patTemplate:sub condition="__default" -->
                                <a href="{PATH_AKTA}{INPUT_AKTA}" target="_blank" title="File akta kelahiran sebelumnya">{INPUT_AKTA}</a>
                                <!-- /patTemplate:sub -->
                                <!-- /patTemplate:tmpl -->
                            </div>
                            <input type="file" name="akta" accept="image/*, application/pdf" />
                        </div>
                    </div>
                </td>
            </tr>
            <!-- patTemplate:comment -->
            <tr>
                <th>Status Sekolah</th>
                <td>
                  <!-- patTemplate:gtfwrendermodule module="combobox" submodule="combobox" action="view" name="studi"  / -->
                </td>
            </tr>
            <!-- /patTemplate:comment -->
            <tr>
                <th>Agama</th>
                <td>
                  <!-- patTemplate:gtfwrendermodule module="combobox" submodule="combobox" action="view" name="agama_id"  / -->
                </td>
            </tr>
            <tr>
                <th>Alamat</th>
                <td>
                    <div class="row">
                        <div class="col-sm-9 col-md-6">
                            <textarea name="alamat" class="form-control" rows="3" tabindex='2'>{INPUT_ALAMAT}</textarea>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <th>Pekerjaan</th>
                <td>
                    <div class="row">
                        <div class="col-sm-9 col-md-6">
                            <input type="text" class="form-control" name="kerja" size="20" value="{INPUT_KERJA}"/>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <th>Pendidikan</th>
                <td>
                  <!-- patTemplate:gtfwrendermodule module="combobox" submodule="combobox" action="view" name="educ"  / -->
                </td>
            </tr>
            <tr>
                <th>Tunjangan</th>
                <td>
                  <!-- patTemplate:gtfwrendermodule module="combobox" submodule="combobox" action="view" name="tunjangan"  / -->
                </td>
            </tr>
            <tr>
                <th>Status Perkawinan</th>
                <td>
                  <!-- patTemplate:gtfwrendermodule module="combobox" submodule="combobox" action="view" name="nikah"  / -->
                </td>
            </tr>
            <tr>
                <th>NPWP</th>
                <td>
                    <div class="row">
                        <div class="col-sm-6 col-md-5">
                            <input type="text" class="form-control" name="npwp" value="{INPUT_NPWP}" size="20" />
                        </div>
                        <div class="col-sm-6 col-md-7">
                            <strong class="pull-left">Tanggal :&nbsp;&nbsp;&nbsp;</strong>
                            <!-- patTemplate:gtfwrendermodule module="tanggal" submodule="tanggal" action="view" name="tgl_npwp"  / -->
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <th>No Telepon</th>
                <td>
                    <div class="row">
                        <div class="col-sm-9 col-md-6">
                            <input type="text" class="form-control" name="telp" size="20" value="{INPUT_TELP}"/>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <th>Nomor BPJS/ASKES/Asuransi kesehatan</th>
                <td>
                    <div class="row">
                        <div class="col-sm-9 col-md-6">
                            <input class="form-control" id="input-askes" type="text" name="no_askes" value="{INPUT_NO_ASKES}" size="25" />
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <th>Keterangan</th>
                <td>
                    <div class="row">
                        <div class="col-sm-9 col-md-6">
                            <textarea name="ket" class="form-control" rows="3" tabindex='2'>{INPUT_KET}</textarea>
                        </div>
                    </div>
                </td>
            </tr>
            
            <tr>
                <th colspan="2" width="25%" class="background-blue-light" ><b>Data & Bukti Kematian</b></th>
            </tr>
            <tr>
                <th>Meninggal Dunia</th>
                <td><!-- patTemplate:gtfwrendermodule module="combobox" submodule="combobox" action="view" name="mati"  / --></td>
            </tr>
            <tr class="mati-toggle">
                <th>Tanggal Meninggal</th>
                <td><!-- patTemplate:gtfwrendermodule module="tanggal" submodule="tanggal" action="view" name="tgl_meninggal"  / --></td>
            </tr>
            <tr class="mati-toggle">
                <th>Nomor Akta Kematian</th>
                <td>
                    <div class="row">
                        <div class="col-sm-6 col-md-5">
                            <input class="form-control" type="text" name="no_akta_meninggal" value="{INPUT_NO_AKTA_MENINGGAL}" />
                        </div>
                        <div class="col-sm-6 col-md-7">
                            <div>
                                <strong>Bukti Akta Kematian :</strong>
                                <!-- patTemplate:tmpl name="akta_meninggal" type="condition" conditionvar="INPUT_AKTA_MENINGGAL" varscope="content" -->
                                <!-- patTemplate:sub condition="__empty" -->
                                <!-- /patTemplate:sub -->
                                <!-- patTemplate:sub condition="__default" -->
                                <a href="{PATH_AKTA}{INPUT_AKTA_MENINGGAL}" target="_blank" title="File akta kematian sebelumnya">{INPUT_AKTA_MENINGGAL}</a>
                                <!-- /patTemplate:sub -->
                                <!-- /patTemplate:tmpl -->
                            </div>
                            <input type="file" name="akta_meninggal" accept="image/*, application/pdf" />
                        </div>
                    </div>
                </td>
            </tr>
            
            <tr class="buttons">
                <th>&nbsp;</th>
                <td>
                    <input name="btnsimpan" value=" {LABEL_ACTION} " class="buttonSubmit btn-info btn btn-xs" type="submit">
                    <input name="btnbatal" id="btnbatal" value="{BUTTON}" class="buttonSubmit btn-warning btn btn-xs"  type="button" onclick="konfirmasi()">
                </td>
            </tr>
       </table>
    </form>
</div>

<div class="petunjuk-area">
   <h4>Petunjuk:</h4>
   <ul>
      <li>Tanda * menunjukkan bahwa field tersebut harus diisi. </li>
   </ul>
</div></div>

<div id="LISTDATA" style="display:">
<h3>List Data Anak</h3>

<div class="table-responsive">
    <table class="table table-bordered table-hover" width="700px">
        <tr>
            <th width="18px">No</th>
            <th>Aksi</th>
            <th>Nama</th>
            <th>Nomor</th>
            <th>Jenis Kelamin</th>
            <th>Tanggal Lahir</th>
            <th>Tunjangan</th>
            <th>Status Nikah</th>
            <th>NPWP</th>
            <th>Pendidikan</th>
            <!--<th>No.Telpon</th>-->
            <th>Meninggal Dunia</th>
        </tr>
        <!-- patTemplate:tmpl name="data_anak" type="condition" conditionvar="PEGAWAI_EMPTY" -->
            <!-- patTemplate:sub condition="YES" -->
                <tr><td colspan="12" align="center"><em>-- Data tidak ditemukan --</em></td></tr>
            <!-- /patTemplate:sub -->
            <!-- patTemplate:sub condition="NO" -->
                <!-- patTemplate:tmpl name="data_anak_item" -->
                <tr class="{ANAK_CLASS_NAME}">
                    <td align="center">{ANAK_NUMBER}</td>
                    <td>
                        <script>verifyShow('tombol_{ANAK_NUMBER}','&jenis=1&params=sdm_anak:{ANAK_ID}');</script>
                        <div class="btn-group" id="tombol_{ANAK_NUMBER}">

                                <a class="xhr dest_subcontent-element btn btn-success btn-xs" href="{ANAK_URL_EDIT}" title="Ubah">
                                    <span class="glyphicon glyphicon-pencil"></span>
                                </a>

                                <a class="xhr dest_subcontent-element btn btn-danger btn-xs" href="{ANAK_URL_DELETE}" title="Hapus">
                                    <span class="glyphicon glyphicon-trash"></span>
                                </a>
                        </div>
                    </td>
                    <td align="left">{ANAK_NAMA}</td>
                    <td align="center">{ANAK_NMR}</td>
                    <td align="center">{ANAK_JENKEL}</td>
                    <td align="center">{ANAK_TGL_LAHIR}</td>
                    <td align="center">{ANAK_TUNJANG_STATUS}</td>
                    <td align="center">{ANAK_NIKAH}</td>
                    <td align="left">{ANAK_NPWP}</td>
                    <td align="center">{ANAK_EDUC}</td>
                    <!--<td align="center">{ANAK_TELP}</td>-->
                    <td align="center">{ANAK_MENINGGAL_STATUS}</td>
                </tr>
                <!-- /patTemplate:tmpl -->
            <!-- /patTemplate:sub -->
        <!-- /patTemplate:tmpl -->
    </table>
</div>
<div class="petunjuk-area">
   <h4>Petunjuk:</h4>
   <ul>
      <li>Gunakan tombol <span class="glyphicon glyphicon-pencil"></span> untuk mengubah data. </li>
      <li>Gunakan tombol <span class="glyphicon glyphicon-trash"></span> untuk menghapus data. </li>
      <li><a href="#TOP" id="link-top">Klik Disini</a> untuk kembali ke atas. </li>
   </ul>
</div>

</div>

</div>
<script language="javascript" type="text/javascript">
function konfirmasi() {
	if(document.getElementById('btnbatal').value == " Reset "){
      document.getElementById('btnbatal').type = "reset";
      document.frmInput.onReset();
    }else{
      document.getElementById('btnbatal').type = "submit";
      document.frmInput.onSubmit();
    }
}

function Tab(aktif,nonaktif){
	document.getElementById(aktif).style.display='';
	document.getElementById(nonaktif).style.display='none';
}

function CekAksi(){
    var dataId2='0'+'{INPUT_ID}';
	if (dataId2=='0') {
		Tab('LISTDATA','FORMDATA');
	}else{
		Tab('FORMDATA','LISTDATA');
	}
}
CekAksi();
</script>
<script>
$(document).ready(function(){
    setTimeout(function(){
        bindNumbersOnly("#input-askes", 13);
    }, 100);
    
    $("#mati").change(function(e){
        var $target = $(".mati-toggle");
        if(this.value === "1") {
            $target.hide();
            $target.find(":input").prop("disabled", true);
        } else if(this.value === "0") {
            $target.show();
            $target.find(":input").prop("disabled", false);
        }
    }).trigger("change");
});
</script>
<!-- /patTemplate:tmpl -->
